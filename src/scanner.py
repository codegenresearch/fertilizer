import os\nfrom .api import RedAPI, OpsAPI\nfrom .filesystem import mkdir_p, list_files_of_extension, assert_path_exists\nfrom .progress import Progress\nfrom .torrent import generate_new_torrent_from_file\nfrom .parser import get_bencoded_data, calculate_infohash\nfrom .errors import (\n  TorrentDecodingError,\n  UnknownTrackerError,\n  TorrentNotFoundError,\n  TorrentAlreadyExistsError,\n  TorrentExistsInClientError,\n)\nfrom .injection import Injection\ndef scan_torrent_file(\n  source_torrent_path: str,\n  output_directory: str,\n  red_api: RedAPI,\n  ops_api: OpsAPI,\n  injector: Injection | None,\n) -> str:\n  """\n  Scans a single .torrent file and generates a new one using the tracker API.\n  \\